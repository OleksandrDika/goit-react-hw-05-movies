"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[359],{388:function(n,e,t){var r=t(184);e.Z=function(){return(0,r.jsx)("h2",{children:".....Loading"})}},232:function(n,e,t){t.d(e,{Z:function(){return d}});var r,i,u=t(87),o=t(689),a=t(168),c=t(444),s=c.ZP.ul(r||(r=(0,a.Z)(["\n  border: 1px solid grey;\n  list-style: none;\n"]))),f=c.ZP.li(i||(i=(0,a.Z)(["\n  padding: 5px;\n  font-size: 22px;\n"]))),l=t(184),d=function(n){var e=n.movies,t=(0,o.TH)();return(0,l.jsx)(s,{children:e.map((function(n){return(0,l.jsx)(f,{children:(0,l.jsx)(u.rU,{to:"/movies/".concat(n.id),state:{from:t},children:n.title},n.id)},n.id)}))})}},359:function(n,e,t){t.r(e),t.d(e,{default:function(){return b}});var r,i,u,o=t(439),a=t(388),c=t(232),s=t(791),f=t(14),l=t(87),d=t(861),p=t(757),h=t.n(p),m=function(){var n=(0,d.Z)(h().mark((function n(e){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat("https://api.themoviedb.org/3/search/movie","?api_key=").concat("f8560092a6f6e40fc22fba47f695da5a","&query=").concat(e)).then((function(n){return n.ok?n.json():Promise.reject(new Error("Something went wrong"))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),x=m,v=t(168),Z=t(444),j=Z.ZP.form(r||(r=(0,v.Z)(["\n  padding: 20px;\n"]))),g=Z.ZP.input(i||(i=(0,v.Z)(["\n  font-size: 22px;\n  margin-right: 10px;\n"]))),y=Z.ZP.button(u||(u=(0,v.Z)(["\n  padding: 7px;\n"]))),w=t(184),b=function(){var n,e=(0,s.useState)([]),t=(0,o.Z)(e,2),r=t[0],i=t[1],u=(0,s.useState)(!1),d=(0,o.Z)(u,2),p=d[0],h=d[1],m=(0,s.useState)(""),v=(0,o.Z)(m,2),Z=v[0],b=v[1],k=(0,l.lr)(),P=(0,o.Z)(k,2),S=P[0],q=P[1],_=null!==(n=S.get("query"))&&void 0!==n?n:"";(0,s.useEffect)((function(){Z&&(0,f.Am)(Z)}),[Z]),(0,s.useEffect)((function(){_&&(h(!0),b(""),x(_).then((function(n){n.results.length||(0,f.Am)("Not found"),i(n.results)})).catch((function(n){(0,f.Am)("Not found"),b(n)})).finally((function(){h(!1)})))}),[_]);return(0,w.jsxs)("div",{children:[(0,w.jsxs)(j,{onSubmit:function(n){n.preventDefault();var e=n.target.query.value.trim().toLowerCase();if(!e)return(0,f.Am)("Please write name of movie");q({query:e})},children:[(0,w.jsx)(g,{type:"text",defaultValue:_,name:"query"}),(0,w.jsx)(y,{type:"submit",children:"Search movie"})]}),(0,w.jsxs)("div",{children:[r&&(0,w.jsx)(c.Z,{movies:r}),p&&(0,w.jsx)(a.Z,{})]}),(0,w.jsx)(f.x7,{})]})}}}]);
//# sourceMappingURL=359.6b471830.chunk.js.map